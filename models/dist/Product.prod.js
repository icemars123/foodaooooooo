"use strict";var _require=require("./Genre"),genreSchema=_require.genreSchema,Joi=require("@hapi/joi");Joi.objectId=require("joi-objectid")(Joi);var mongoose=require("mongoose"),productSchema=new mongoose.Schema({category:{type:String,required:!0,minlength:4},main_materials:{type:String,required:!0},taste:{type:String,required:!0},features:{type:String,required:!0},isPublished:{type:Boolean},price:{type:String,required:function(){return this.isPublished}},genre:{type:genreSchema,required:!0}}),Product=new mongoose.model("Product",productSchema);function validateProduct(e){return Joi.object({category:Joi.string().required(),price:Joi.string().required(),main_materials:Joi.string().required(),taste:Joi.string().required(),features:Joi.string().required(),genreId:Joi.objectId().required()}).validate(e)}exports.Product=Product,exports.productSchema=productSchema,exports.validateProduct=validateProduct;