"use strict";var _require=require("./Genre"),genreSchema=_require.genreSchema,Joi=require("@hapi/joi");Joi.objectId=require("joi-objectid")(Joi);var mongoose=require("mongoose"),productSchema=new mongoose.Schema({dishName:{type:String,required:!0,trim:!0,minlength:3},price:{type:Number,required:function(){return this.isPublished}},unit:{type:String,required:!0,trim:!0,minlength:6},elements:{type:String,trim:!0,required:!0},tastes:{type:[String],required:!0},detail:{type:String,trim:!0,required:!0},imageName:{type:String,trim:!0},videoName:{type:String,trim:!0},isPublished:{type:Boolean,requried:!0},discount:{type:String,trim:!0},genre:{type:genreSchema,required:!0},link:{type:[String]}}),Product=new mongoose.model("Product",productSchema);function validateProduct(e){return Joi.object({dishName:Joi.string().required(),price:Joi.number().required(),unit:Joi.string().required(),elements:Joi.string().required(),tastes:Joi.array().items(Joi.string().required()).required(),detail:Joi.string().required(),isPublished:Joi.boolean().required(),genreId:Joi.objectId().required()}).validate(e)}exports.Product=Product,exports.productSchema=productSchema,exports.validateProduct=validateProduct;